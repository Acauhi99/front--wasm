@page "/gold"
@using front__wasm.Shared

<ServiceTemplate 
  Title="Serviços de Gold" 
  Description="Obtenha ouro rapidamente de forma segura e garantida. Entregas rápidas em todos os servidores."
  GradientClasses="from-yellow-400 to-yellow-600">
  <LeftContent>
    <h2 class="text-3xl font-bold mb-6">Por que escolher nosso serviço de Gold?</h2>
    <ul class="space-y-4">
      <li class="flex items-start">
        <svg
          class="h-6 w-6 text-yellow-500 mr-2"
          fill="none"
          viewBox="0 0 24 24"
          stroke="currentColor">
          <path
            stroke-linecap="round"
            stroke-linejoin="round"
            stroke-width="2"
            d="M5 13l4 4L19 7" />
        </svg>
        <span>Entrega garantida em até 24 horas</span>
      </li>
      <li class="flex items-start">
        <svg
          class="h-6 w-6 text-yellow-500 mr-2"
          fill="none"
          viewBox="0 0 24 24"
          stroke="currentColor">
          <path
            stroke-linecap="round"
            stroke-linejoin="round"
            stroke-width="2"
            d="M5 13l4 4L19 7" />
        </svg>
        <span>Métodos 100% seguros, sem risco para sua conta</span>
      </li>
      <li class="flex items-start">
        <svg
          class="h-6 w-6 text-yellow-500 mr-2"
          fill="none"
          viewBox="0 0 24 24"
          stroke="currentColor">
          <path
            stroke-linecap="round"
            stroke-linejoin="round"
            stroke-width="2"
            d="M5 13l4 4L19 7" />
        </svg>
        <span>Disponível para todos os servidores</span>
      </li>
    </ul>

    <div class="mt-8">
      <h3 class="text-2xl font-bold mb-4">Como funciona?</h3>
      <ol class="list-decimal pl-5 space-y-2">
        <li>Escolha a quantidade de gold desejada</li>
        <li>Forneça as informações de seu personagem e servidor</li>
        <li>Realize o pagamento</li>
        <li>Aguarde o contato de nossa equipe via Discord</li>
        <li>Receba seu gold no jogo!</li>
      </ol>
    </div>
  </LeftContent>
  <RightContent>
    <div class="bg-white rounded-lg shadow-lg p-8 border border-gray-200">
        <h3 class="text-2xl font-bold mb-6 text-center">Escolha seu pacote</h3>
        <div class="space-y-4">
            @if (goldPackages == null)
            {
                <p>Carregando pacotes...</p>
            }
            else
            {
                @foreach (var package in goldPackages)
                {
                    <GoldPackageCard 
                        GoldAmount="@package.GoldAmount" 
                        Price="@package.Price" 
                        IsPopular="@package.IsPopular" 
                        OnAddToCart="() => AddToCart(package)" />
                }
            }
        </div>
    </div>
  </RightContent>
</ServiceTemplate>

@code {
    private IEnumerable<GoldPackage>? goldPackages;

    protected override async Task OnInitializedAsync()
    {
        goldPackages = await CatalogService.GetGoldPackagesAsync();
    }

    private void AddToCart(GoldPackage package)
    {
        Console.WriteLine($"Added to cart: {package.GoldAmount} Gold for R$ {package.Price}");
        // Add logic to update the cart
    }
}
